import dependencies.Libs
import dependencies.Modules

apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'
apply plugin: 'kotlinx-serialization'
apply plugin: 'dagger.hilt.android.plugin'

apply from: rootProject.file('gradle/android.gradle')

android {
    defaultConfig {
        buildConfigField 'String', 'API_BASE_URL_MOVIE', propOrDef("MOVIE_API_BASE_URL", "\"https://api.themoviedb.org/3/\"")
        buildConfigField 'String', 'API_KEY_MOVIE', propOrDef("MOVIE_API_KEY", "\"00fadd6af89412de4c1a3ecd7fe631f6\"")

        // DexOpener's test runner
        testInstrumentationRunner "com.anggit97.data.DexOpeningTestRunner"
    }
}

dependencies {
    implementation project(Modules.Model)
    implementation project(Modules.Core)

    implementation Libs.Kotlin.stdlib
    implementation Libs.Kotlin.serialization
    implementation Libs.Coroutines.core
    implementation Libs.Coroutines.android

    implementation Libs.AndroidX.Room.runtime
    implementation Libs.AndroidX.Room.ktx
    kapt Libs.AndroidX.Room.compiler

    implementation Libs.AndroidX.core

    implementation Libs.Dagger.hilt
    kapt Libs.Dagger.hiltCompiler

    implementation Libs.AndroidX.Paging.runtime

    implementation Libs.Retrofit.runtime
    implementation Libs.Retrofit.serialization

    implementation Libs.OkHttp.loggingInterceptor

    implementation Libs.timber

    testImplementation Libs.Test.junit
    testImplementation Libs.Test.mockk
    testImplementation Libs.Test.coroutine
    androidTestImplementation Libs.Test.mockkAndroid
    androidTestImplementation 'com.github.tmurakami:dexopener:2.0.5'
    androidTestImplementation Libs.Test.runner
    androidTestImplementation Libs.Test.junitExt
    androidTestImplementation Libs.Test.espresso
}
